{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<!-- Overview Tab -->
<div id="overview-tab">
    <div class="cards-grid">
        <div class="card">
            <div class="card-icon">üìä</div>
            <div class="card-label">Total Archivos</div>
            <div class="card-value">24</div>
        </div>
        <div class="card">
            <div class="card-icon">‚úì</div>
            <div class="card-label">Procesados</div>
            <div class="card-value">18</div>
        </div>
        <div class="card">
            <div class="card-icon">‚è≥</div>
            <div class="card-label">En Proceso</div>
            <div class="card-value">4</div>
        </div>
        <div class="card">
            <div class="card-icon">‚ö†Ô∏è</div>
            <div class="card-label">Errores</div>
            <div class="card-value">2</div>
        </div>
    </div>
</div>

<!-- Upload Tab -->
<div id="upload-tab" style="display: none;">
    <div class="upload-card">
        <h2 class="upload-title">Cargar Archivos</h2>
        <form action="/upload" class="dropzone" id="uploadForm">
            <div class="dz-message" style="position: relative;">
                <img src="/static/img/pngegg.png" style="position: absolute; width: 300px; height: 300px; opacity: 0.15; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 0;" />
                <div style="position: relative; z-index: 1;">
                    <strong>Arrastra archivos aqu√≠ o haz clic para seleccionar</strong><br>
                    <span>Soporta Excel, CSV y otros formatos</span>
                </div>
            </div>
        </form>
        <div id="fileList" style="margin-top: 20px; display: none;">
            <div style="font-size: 14px; font-weight: 600; color: #2d3748; margin-bottom: 12px;">Archivos seleccionados:</div>
            <div id="filesContainer" style="display: flex; flex-direction: column; gap: 10px;"></div>
            <div style="display: flex; gap: 12px; margin-top: 16px;">
                <button id="uploadFilesBtn" class="upload-button" style="padding: 10px 24px; background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%); color: white; border: none; border-radius: 10px; font-size: 14px; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(0, 212, 255, 0.25); display: flex; align-items: center; gap: 8px;">Subir</button>
            </div>
        </div>
        <span id="uploadStatus" style="display: block; margin-top: 10px; font-size: 14px; font-weight: 600;"></span>
    </div>
</div>

<!-- Analytics Tab -->
<div id="analytics-tab" style="display: none;">
    <div class="upload-card">
        <h2 class="upload-title">An√°lisis</h2>
        <p style="color: #7f8c8d;">An√°lisis en desarrollo...</p>
    </div>
</div>

<!-- Settings Tab -->
<div id="settings-tab" style="display: none;">
    <div class="upload-card">
        <h2 class="upload-title">Configuraci√≥n</h2>
        <div style="color: #7f8c8d;">
            <p>Tema: Claro</p>
            <p>Notificaciones: Activadas</p>
            <p>Idioma: Espa√±ol</p>
        </div>
    </div>
</div>

<!-- Regions Tab -->
<div id="regions-tab" style="display: none;">
    <div class="upload-card">
        <h2 class="upload-title">Regiones</h2>
        <iframe src="/regions" style="width: 100%; height: 600px; border: none; border-radius: 10px;"></iframe>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/regions.css">
{% endblock %}

{% block extra_js %}
<script>
function toggleFilters() {
    const container = document.getElementById('filtersContainer');
    const btn = document.getElementById('toggleFiltersBtn');
    if (container.style.display === 'none') {
        container.style.display = 'grid';
        btn.textContent = '‚ñ≤';
    } else {
        container.style.display = 'none';
        btn.textContent = '‚ñº';
    }
}
function toggleTable() {
    const container = document.getElementById('tableContainer');
    const btn = document.getElementById('toggleTableBtn');
    if (container.style.display === 'none') {
        container.style.display = 'block';
        btn.textContent = '‚ñ≤';
    } else {
        container.style.display = 'none';
        btn.textContent = '‚ñº';
    }
}
</script>
<script src="/static/js/dashboard.js"></script>
{% endblock %}
